<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>WebDocument Editor</title>
        <!-- Make sure the path to CKEditor is correct. -->
        <!script src="https://cdn.ckeditor.com/4.6.0-441b33b/full-all/ckeditor/ckeditor.js"></script>>
<script src="ckeditor.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> 
<script src="menu.js"></script>  
<link rel="stylesheet" href="menu.css">
<link rel="stylesheet" href="modal.css"> 


<title>Web Document Editor</title>
<style type="text/css">



    /* Minimal styling to center the editor in this sample */
    body {
        padding: 10px;
        display: flex;
        align-items: center;
        text-align: center;
    }

    .container {
        margin: 0 auto;
    }
</style>
<meta name="viewport" content="initial-scale=1">
</head>

<body>


    <div class="container">

        <nav>
            <h2><label for="editor1">Document Web Editor</label></h2>

        </nav>


        <div id="myModal" class="modal" role="dialog" >

            <!-- Modal content -->
            <div class="modal-content">
                <div class="modal-header">
                    <span class="close">&times;</span>
                    <h4>Please select the file name to open</h4>
                </div>
                <div class="modal-body"  id="modal-body"> 

                </div>
                <div class="modal-footer">
                    <h5>Powered by : ERA Infotech Ltd.</h5>
                </div>
            </div>

        </div> 
        <textarea name="editor1" id="editor1"  >

           <body style="margin: 10px 70px 50px;">
<p><span style="font-size:16px;"><u><strong>Date:-</strong></u> 31<sup>st</sup> January 2017&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong> &nbsp;</strong></span></p>

<div style="background:#eeeeee;border:5px solid #cccccc;padding:5px 10px;"><span style="font-size:16px;"><strong>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </strong></span><strong><span style="font-size:24px;">LOAN REQUEST APPLICATION FORM </span></strong></div>

<p>&nbsp;</p>

<p><span style="line-height:2em;"><span style="font-size: 18px;">1)<em> Name of the Applicant:-</em> &nbsp;&nbsp;<u>&nbsp;&nbsp; SYED SALMAN BIN KADER &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; . </u></span></span></p>

<p><span style="line-height:2em;"><span style="font-size: 18px;">2) <em>Applicant&#39;s Father Name:-</em>&nbsp; <u>&nbsp;&nbsp; SYED ABDUL KADER &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; </u>.<u> </u></span></span></p>

<p><span style="line-height:2em;"><span style="font-size: 18px;">3) <em>Present Address:- </em><u>&nbsp; 9/25, Humayun Road, Block-C, Mohammadpur, Dhaka-1207 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; </u>.<u> </u></span></span></p>

<p><span style="line-height:2em;"><span style="font-size: 18px;">4) <em>Permanent Address:-&nbsp; </em><u>39, Sir Iqbal Road, Khulna-9100 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </u> <u>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </u>.</span></span></p>

<p><span style="line-height:2em;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; <u><span style="font-size: 20px;"><strong>Last 3 Year&#39;s Income</strong></span></u></span></p>

<table border="1" cellpadding="1" cellspacing="1" height="128" width="949">
	<tbody>
		<tr>
			<th style="width: 200px; height: 10px;">
			<p><span style="font-size:18px;">Income Head</span></p>
			</th>
			<th style="width: 200px;"><span style="font-size:20px;">2014</span></th>
			<th style="width: 200px;"><span style="font-size:20px;">2015</span></th>
			<th style="width: 200px;"><span style="font-size:20px;">2016</span></th>
		</tr>
		<tr>
			<td style="height: 10px;">
			<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Gross Salary of the applicant</p>
			</td>
			<td style="text-align: center;">40,000 /=</td>
			<td style="text-align: center;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;40,000 /=</td>
			<td style="text-align: center;">&nbsp;50,000 /</td>
		</tr>
		<tr>
			<td>
			<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; House Rent</p>
			</td>
			<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5,000/=</td>
			<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10,000/=</td>
			<td style="text-align: center;">15,000/=</td>
		</tr>
		<tr>
			<td>
			<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Family Expenses</p>
			</td>
			<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10,000/=</td>
			<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10,000/=</td>
			<td style="text-align: center;">15,000/=</td>
		</tr>
		<tr>
			<td>
			<p>&nbsp;&nbsp;&nbsp; Medical Expenses/ Insurance Bill</p>
			</td>
			<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; N/A</td>
			<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; N/A</td>
			<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; N/A</td>
		</tr>
	</tbody>
</table>

<p>&nbsp;</p>

<div style="background:#eeeeee;border:5px solid #cccccc;padding:5px 10px;"><span style="font-size:20px;"><em><strong>&nbsp;</strong></em>Applied&nbsp; Amount:&nbsp; <u>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3,00,000 &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</u>BDT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; From PF:&nbsp;&nbsp; <input required="required" type="checkbox" /> YES&nbsp;&nbsp; <input required="required" type="checkbox" /> NO</span></div>

<p>&nbsp;</p>

<div style="background:#eeeeee;border:5px solid #cccccc;padding:5px 10px;"><span style="font-size:20px;"><em><strong>&nbsp;</strong></em>Approved&nbsp; Amount: <u>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; 2,00,000 &nbsp;&nbsp; </u>BDT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Approved By: <u>&nbsp;&nbsp;&nbsp; Anwar Hossain &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </u></span></div>

<div style="background:#eeeeee;border:5px solid #cccccc;padding:5px 10px;"><span style="font-size:20px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Signature:</span><span style="font-size:24px;"><u>&nbsp;&nbsp;&nbsp;&nbsp; Anwar &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</u>&nbsp;&nbsp;</span><span style="font-size:20px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div>

<p>&nbsp;</p>
</body>



        </textarea>   



        <input  type="button" id="createFile" name="createFile" value="Create new File" onclick="createFile()">
        <input   type="button" id="openFile" name="openFile" value="Open File">
        <input   type="button" id="saveFile" name="saveFile" value="Save File" onclick="saveFile()">
        <input type="button"  id="closeFile" name="closeFile" value="Close File" onclick="closeFile()">
        <input type="button"  id="generatePDF" name="generatePDF" value="GeneratePDF" onclick="generatePDF()">


        <footer>
            <p> Powered by:  <a href="http://www.erainfotechbd.com/">
                    <b> ERA Infotech Ltd<b/></a>.</p>
        </footer> 

    </div>




    <script>

        document.getElementById('editor1').value = '';
        var fileNameStr = "";
        var counterPdf = 0;
        function generatePDF()
        {
            //pdfGenerate
            var fileContent = CKEDITOR.instances.editor1.getData();
            $.ajax({
                type: "POST",
                url: "pdfGenerate.php",
                data: {fileContent: fileContent},
                cache: false,
                success: function(result) {
                    // alert(result);
                    window.open(result, "_self");
                    if (counterPdf == 0)
                    { 
                        var file = result; 
                        $.ajax({
                            type: "POST",
                            url: "database_connections.php",
                           
                            data: {functionName: 'saveToPdf', fileName: file,
                                pdf_file_Name: fileNameStr, updateFile: 0},
                            cache: false,
                            success: function(result) {
                                var reslt_str = result;
                                if (reslt_str.localeCompare("There exists a file with the same name. Do you want to override ? ") == 0)
                                {
                                    var override_flag = confirm(reslt_str);
                                    if (override_flag) {
                                          
                                         $.ajax({
                                            type: "POST",
                                            url: "database_connections.php",
                                            data: {functionName: 'saveToPdf', fileName: file,
                                pdf_file_Name: fileNameStr, updateFile: 1},
                                            cache: false,
                                            success: function(result) {
                                                alert(result);
                                            }
                                        });
                                    }
                                }
                                 
                            }
                        });
                        ++counterPdf;
                    }
                    else
                    {
                        $.ajax({
                            type: "POST",
                            url: "database_connections.php",
                            data: {functionName: 'saveToPdf', fileName: result,
                                pdf_file_Name: fileNameStr, updateFile: 1},
                            cache: false,
                            success: function(result) {
                                alert(result);
                            }
                        });
                        ++counterPdf;
                    }
                }
            });
        }

        //alert("      ".trim().localeCompare(""));
        //document.getElementById('editor1').value = '';
        //document.getElementById('editor1').style.margin="30px 20px 30px 40px";
        var fileNameStr = "";
        var pdfFileName = "";
        function closeFile()
        {
            counterPdf = 0;
            counter = 0;
            fileNameStr = "";
            pdfFileName = "";
            CKEDITOR.instances.editor1.setData('', function()
            {
                this.checkDirty();  // true
            });
        }

        function getFileName(elem) {
            fileName = elem.innerHTML;
            fileNameStr = fileName; 
            ++counter;
            var dataString = 'functionName=getFileContent' + "&fileName=" + fileName;

            $.ajax({
                type: "POST",
                url: "database_connections.php",
                data: dataString,
                cache: false,
                success: function(result) {
                    var x = 'Fifth Avenue, New York City';
                    CKEDITOR.instances.editor1.setData(result, function()
                    {
                        this.checkDirty();  // true
                    });
                    modal.style.display = "none";
                }
            });
        }
        var counter = 0;

        function saveFile()
        {
            if (counter == 0)
            {
                var fileName;
                fileName = prompt("Please enter file name:");
                if (fileName != null)
                {
                    if (fileName.trim() == "")
                    {
                        alert("File name must have some value");
                    } else
                    {
                        fileNameStr = fileName + ".php";
                        pdfFileName = fileName + ".pdf"
                        var fileContent = CKEDITOR.instances.editor1.getData();
                        var dataString = 'functionName=saveFileContent' + "&fileName=" + fileName + "&fileContent=" + fileContent + "&updateFile=" + 0;
                        $.ajax({
                            type: "POST",
                            url: "database_connections.php",
                            data: {functionName: 'saveFileContent', fileName: fileNameStr,
                                fileContent: fileContent, updateFile: 0},
                            cache: false,
                            success: function(result) {
                                var reslt_str = result;
                                if (reslt_str.localeCompare("There exists a file with the same name. Do you want to override ? ") == 0)
                                {
                                    var override_flag = confirm(reslt_str);
                                    if (override_flag) {
                                        fileName = fileName + ".php";
                                        var dataString = 'functionName=saveFileContent' + "&fileName=" + fileName + "&fileContent=" + fileContent + "&updateFile=" + 1;
                                        $.ajax({
                                            type: "POST",
                                            url: "database_connections.php",
                                            data: {functionName: 'saveFileContent', fileName: fileName,
                                                fileContent: fileContent, updateFile: 1},
                                            cache: false,
                                            success: function(result) {
                                                alert(result);
                                            }
                                        });
                                    }
                                }

                            }
                        });
                        ++counter;
                    }
                }
            } else
            {
                var fileContent = CKEDITOR.instances.editor1.getData();
                var dataString = 'functionName=saveFileContent' + "&fileName=" + fileNameStr + "&fileContent=" + fileContent + "&updateFile=" + 1;
                $.ajax({
                    type: "POST",
                    url: "database_connections.php",
                    data: {functionName: 'saveFileContent', fileName: fileNameStr,
                        fileContent: fileContent, updateFile: 1},
                    cache: false,
                    success: function(result) {
                        alert(result);
                    }
                });
                ++counter;
            }

        }


        //var callback = CKEditorFuncName; 

// Get the modal
        var modal = document.getElementById('myModal');

// Get the button that opens the modal
        var btn = document.getElementById("openFile");

// Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal                           // ********************When the user clicks the button, open the modal *********
        btn.onclick = function() {
            var dataString = 'functionName=getFileName';
            $.ajax({
                type: "POST",
                url: "database_connections.php",
                data: dataString,
                cache: false,
                success: function(result) {
                    counterPdf = 0;
                    var fileName = result.split(",");
                    var d1 = document.getElementById('modal-body');
                    document.getElementById("modal-body").innerHTML = "";
                    for (i = 1; i < fileName.length; i++) {
                        // d1.insertAdjacentHTML('afterend', '<p onclick=\"getFileName(this);\">' + fileName[i] + '</p>');
                        d1.innerHTML += '<p onclick=\"getFileName(this);\">' + fileName[i] + '</p>';
                        //   d1.innerHTML += "<YOUR_CONTENT>"; 
                    }
                    modal.style.display = "block";
                }
            });
        }

// When the user clicks on <span> (x), close the modal
        span.onclick = function() {
            modal.style.display = "none";
        }

// When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }



        function createFile()
        {
            counterPdf = 0;
            var fileContent = CKEDITOR.instances.editor1.getData();
            if (fileContent.trim().localeCompare("") == 0) {
                CKEDITOR.instances.editor1.setData('', function()
                {
                    this.checkDirty();  // true
                });
            } else {
                var fileExists = confirm('There exists an unsaved file . Do you want to save it ?');
                if (fileExists)
                {

                    if (fileNameStr.localeCompare("") == 0)
                    {
                        counter = 0;
                    } else
                        counter = 5;
                    saveFile();
                }
                CKEDITOR.instances.editor1.setData('', function()
                {
                    this.checkDirty();  // true
                });
            }
            counter = 0;
            fileNameStr = "";
            pdfFileName="";
            /*var fileName;
             fileName = prompt("Please enter file name:");
             if (fileName != null)
             {
             if (fileName.trim() == "")
             {
             alert("File name must have some value");
             } else
             {
             var dataString = 'functionName=create_new_file' + "&fileName=" + fileName;
             $.ajax({
             type: "POST",
             url: "database_connections.php",
             data: dataString,
             cache: false,
             success: function (result) {
             alert(result);
             }
             });
             
             }
             } */
        }
    </script>


    <script>
        // Replace the <textarea id="editor1"> with a CKEditor
        // instance, using default configuration.

        //CKEDITOR.plugins.addExternal ('table','/path/to/table/','plugin.js');

        CKEDITOR.replace('editor1',
                {
                    height: 420,
                    width: 1100,
                    //uiColor:'#AAAA', 


                    tabSpaces: 8,
                    /*
                     toolbar: [
                     { name: 'document', items: [ 'Source', '-', 'Save', 'Document', 'NewPage', 'Preview', 'Print', '-', 'Templates' ] },
                     { name: 'clipboard', items: [ 'Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo' ] },
                     { name: 'editing', items: [ 'Find', 'Replace', '-', 'SelectAll', '-', 'Scayt' ] },
                     { name: 'forms', items: [ 'Form', 'Checkbox', 'Radio', 'TextField', 'Textarea', 'Select', 'Button', 'ImageButton', 'HiddenField' ] },
                     '/',
                     { name: 'basicstyles', items: [ 'Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript', '-', 'CopyFormatting', 'RemoveFormat' ] },
                     { name: 'paragraph', items: [ 'NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote', 'CreateDiv', '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock', '-', 'BidiLtr', 'BidiRtl', 'Language' ] },
                     { name: 'links', items: [ 'Link', 'Unlink', 'Anchor' ] },'/',
                     { name: 'insert', items: [ 'Image', 'Flash', 'Table', 'HorizontalRule', 'Smiley', 'SpecialChar', 'PageBreak', 'Iframe' ] },
                     
                     { name: 'styles', items: [ 'Styles', 'Format', 'Font', 'FontSize' ] },
                     { name: 'colors', items: [ 'TextColor', 'BGColor' ] },
                     { name: 'tools', items: [ 'Maximize', 'ShowBlocks' ] },
                     { name: 'about', items: [ 'About' ] }
                     ], */






                    //toolbarLocation: 't',

                    filebrowserBrowseUrl: 'browse.php?type=Images&dir=' + encodeURIComponent('uploaded'),
                    filebrowserUploadUrl: 'upload.php',
                    //plugins.addExternal: ('nid_forms', '/path/to/nid_forms/','plugin.js'),

                    fullPage: true,
                    //plugin.addExternal: 'nid_forms', '/path/to/forms/','plugin.js', 
                    //extraPlugins: 'docprops,forms' ,
                    //extraPlugins: 'nid_forms',
                    //extraPlugins: 'timestamp',
                    //extraPlugins: 'table',

                    line_height: '0.5em;1em;2em;3em;4em;5em;6em',
                    //removePlugins: 'table,tabletools',
                    //removePlugins: 'forms',

                    //extraPlugins: 'pagebreak',
                    allowedContent: true,
                    //customConfig: '',

                    extraAllowedContent: 'img[width,height,align], tabletools[width,height]',
                    // contentsCss: ['https://cdn.ckeditor.com/4.6.0-441b33b/full-all/ckeditor/contents.css', 'mystyles.css'], 								',
                    bodyClass: 'webdocument',
                    format_tags: 'p;h1;h2;h3;pre',
                    removeDialogTabs: 'image:advanced;link:advanced',
                    removeButtons: 'About',
                    //removePlugins: 'forms',

                    //toolbarCanCollapse = true,






                    stylesSet: [
                        /* Inline Styles */
                        {name: 'Marker', element: 'span', attributes: {'class': 'marker'}},
                        {name: 'Cited Work', element: 'cite'},
                        {name: 'Inline Quotation', element: 'q'},
                        /* Object Styles */
                        {
                            name: 'Special Container',
                            element: 'div',
                            styles: {
                                padding: '5px 10px',
                                background: '#eee',
                                border: '5px solid #ccc'
                            }
                        },
                        {
                            name: 'Compact table',
                            element: 'table',
                            attributes: {
                                cellpadding: '5',
                                cellspacing: '0',
                                border: '1',
                                bordercolor: '#ccc'
                            },
                            styles: {
                                'border-collapse': 'collapse'
                            }
                        },
                        {name: 'margin',
                            element: 'div',
                            styles: {
                                padding: '4px 4px',
                            }

                        },
                        {name: 'Borderless Table', element: 'table', styles: {'border-style': 'hidden', 'background-color': '#E6E6FA'}},
                        {name: 'Square Bulleted List', element: 'ul', styles: {'list-style-type': 'square'}}
                    ],
                }




        );
    </script>



</body>




</html>
